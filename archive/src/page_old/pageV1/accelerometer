Accelerometer testing</br>


<div id="slidecontainerX">
  <input type="range" min="-10" max="10" value="0" class="slider" id="rangeX">
   <input type="text" id="valueX" name="valueX">
</div>

<div id="slidecontainerY">
	<input type="range" min="-10" max="10" value="0" class="slider" id="rangeY">
  	 <input type="text" id="valueY" name="valueY">
</div>

<div id="slidecontainerZ">
	<input type="range" min="-10" max="10" value="0" class="slider" id="rangeZ">
   	<input type="text" id="valueZ" name="valueZ">
</div>

<div id="sensors">
	<input type="button" id="btnSensors">
</div>



<script>

	function(){

	}


//test du web audio avec une sine wave 440Hz simple. Ne fonctionne pas sur le smartphone
	try {
		var contexteAudio = new (window.AudioContext || window.webkitAudioContext)();
	}
	catch(e) {
	  alert('Web Audio API is not supported in this browser');
	}
	var oscillateur = contexteAudio.createOscillator();
	var noeudGain = contexteAudio.createGain();
	oscillateur.connect(noeudGain);
	noeudGain.connect(contexteAudio.destination);

	var largeur = window.innerWidth;
	var hauteur = window.innerHeight;

	var frequenceMax = 6000;
	var volumeMax = 1;

	var frequenceInitiale = 440;
	var volumeInitial = 0.5;

	// paramètres de l'oscillateur

	oscillateur.type = 'sine'; // onde sinusoïdale — les autres valeurs possible sont : 'square', 'sawtooth', 'triangle' et 'custom'
	oscillateur.frequency.value = frequenceInitiale; // valeur en hertz

	oscillateur.connect(noeudGain);
	noeudGain.connect(contexteAudio.destination);
	oscillateur.start();


	

if(window.DeviceMotionEvent){
  window.addEventListener("devicemotion", motion, false);
}else{
  console.log("DeviceMotionEvent is not supported");
}

if(window.DeviceOrientationEvent){
  window.addEventListener("deviceorientation", orientation, false);

}else{
  console.log("DeviceOrientationEvent is not supported");
}


window.ondevicemotion = function(event) {

	var x = event.accelerationIncludingGravity.x; 
	document.getElementById("valueX").value = "X= " + x ;
	document.getElementById("rangeX").value = x;
	oscillateur.frequency.value = Math.abs(x) *100;


	

	var y = event.accelerationIncludingGravity.y;  
	document.getElementById("valueY").value = "Y= " + x ;
	document.getElementById("rangeY").value = y;
	if(y<1 && y>-1){
		document.body.style.backgroundColor = "#00AA14";
	} else{
		document.body.style.backgroundColor = "#AA0000";	
	}

	var z = event.accelerationIncludingGravity.z; 
	document.getElementById("valueZ").value = "Z= " + x ;
	document.getElementById("rangeZ").value = z;

}
</script>